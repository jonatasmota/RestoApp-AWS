<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: html_head" />

<body>
	<div class="container-fluid">
		<div class="row">
			<!-- sidebar -->
			<div th:replace="./fragments :: html_sidebar"></div>

			<!-- overlay to close sidebar on small screens -->
			<div class="w-100 vh-100 position-fixed overlay d-none"
				id="sidebar-overlay"></div>
			<!-- note: in the layout margin auto is the key as sidebar is fixed -->
			<div class="col-md-9 col-lg-10 ml-md-auto px-0">
				<!-- top nav -->
				<nav th:replace="./fragments :: html_navbar"></nav>

				<div class="container">
					<h1>Floor Plan List</h1>
					<div class="row">
						<!-- Search form -->
						<div class="col-md-3">
							<form th:action="@{/createFloorPlan}" method="get">
								<input class="form-control" type="text" placeholder="Search"
									aria-label="Search">
							</form>
						</div>

						<div class="col-md-9">
							<a th:href="@{/floorPlanForm}">
								<button class="btn btn-hover float-right">Add Floor Plan</button>
								<button class="nav-toggle-btn" aria-label="Toggle Menu"
									data-nav-toggle-btn>
									<span class="line top"></span> <span class="line middle"></span>
									<span class="line bottom"></span>
								</button>
							</a>
						</div>
					</div>

					<hr>

					<table class="table table-striped table-responsive-md">
						<thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Name</th>
								<th scope="col"># of Tables</th>
								<th scope="col">Event Name</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							<!-- <tr th:if="${#lists.isEmpty(events)}">
								<td colspan="8">No events available</td>
							</tr> -->
							<tr th:each="plan : ${floorPlans}" th:unless="${floorPlans} == null">
								<td th:text="${plan?.floorPlanId}"></td>
								<td th:text="${plan?.floorPlanName}"></td>
								<td th:text="${plan?.tables.size()}"></td>
								<td th:text="${plan?.event?.eventName}"></td>
								<td style="display: flex"><a
									th:href="@{/floorPlanForm(id=${plan?.floorPlanId})}"
									class="icon" data-toggle="tooltip" title="Edit"><ion-icon
											name="create-outline"></ion-icon></a>&nbsp; <a
									th:href="@{/deleteFloorPlan/{id}(id=${plan?.floorPlanId})}"
									class="icon" data-toggle="tooltip" title="Delete"><ion-icon
											name="trash-outline"></ion-icon></a></td>

							</tr>


						</tbody>
					</table>
				</div>

			</div>
		</div>
	</div>

	<!-- footer -->
	<footer th:replace="./fragments :: html_footer"></footer>
	<!-- end of footer -->


	<script src="/js/dashboard.js" defer></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
		defer></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
		defer></script>
	<script type="module"
		src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule
		src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>


