<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: html_head" />

<body>
	<div class="container-fluid">
		<div class="row">
			<div th:replace="./fragments :: html_sidebar"></div>

			<!-- overlay to close sidebar on small screens -->
			<div class="w-100 vh-100 position-fixed overlay d-none"
				id="sidebar-overlay"></div>
			<!-- note: in the layout margin auto is the key as sidebar is fixed -->
			<div class="col-md-9 col-lg-10 ml-md-auto px-0">
				<!-- top nav -->
				<nav th:replace="./fragments :: html_navbar"></nav>

				<div class="container">
					<h1>Add Event</h1>
					<hr>
					<div class="col-sm-12 alert alert-danger" role="alert" th:if="${menuList.size() == 0}">
						<p>
							You must <a th:href="@{/menus/new}" class="alert-link">create a menu</a> before
							attempting to add an event.
						</p>
					</div>
					<div th:unless="${menuList.size() == 0}">
						<form action="#" th:action="@{/saveEvent}" th:object="${events}"
							method="POST">
							<div class="row mb-5">

								<div class="col-sm-5">
									<div class="form-outline">
										<label class="form-label" for="eventName">Name</label> <input
											type="text" th:field="*{eventName}" id="eventName"
											class="form-control" />
									</div>
								</div>

								<div class="col-sm-3">
									<div class="form-outline">
										<label class="form-label" for="eventCreated">Date
											Created</label> <input type="date" th:field="*{eventDate}"
											id="eventCreated" class="form-control" />
									</div>
								</div>

								<div class="col-sm-4">
									<div class="form-outline">
										<label class="form-label" for="ddlMenu">Menu</label> <select
											name="ddlMenu" class="form-control" th:field="*{eventMenuID}">
											<option th:each="menu : ${menuList}"
												th:value="${menu.menuId}" th:text="${menu.menuName}" />
										</select>
									</div>
								</div>

								<div class="col-sm-12 mt-3">
									<div class="form-outline">
										<label class="form-label" for="eventDetails">Details</label>
										<textarea class="form-control" th:field="*{eventDetails}"
											id="eventDetails" rows="4"></textarea>
									</div>
								</div>
								
								<!-- buttons -->
								<div class="col-sm-12 mt-3">
									<button type="submit" class="btn btn-primary">Save</button>
									<a th:href="@{/events}" class="btn btn-primary"> Back to
										Events List</a>
								</div>
							</div>
						</form>
						
						
						<!-- Modal -->
									<!-- h4>Time Slots</h4>
										<ul>
											<li th:each="timeslot : ${timeslots}">
												<div th:text="${'Hour: ' + timeslot.hour + ', Minute: ' + timeslot.minute"></div>
												<a class="btn btn-primary" th:href="@{/deleteTimeslot/(id=${timeslot?.id})}">Delete</a>
											</li>
										</ul>
						
						
							<button type="button" class="btn btn-primary" data-toggle="modal"
											data-target="#exampleModal">Add Time Slot</button>

										<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
											aria-labelledby="exampleModalLabel" aria-hidden="true">
											<div class="modal-dialog" role="document">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title" id="exampleModalLabel">Add Time Slot</h5>
														<button type="button" class="close" data-dismiss="modal"
															aria-label="Close">
															<span aria-hidden="true">&times;</span>
														</button>
													</div>
													<div class="modal-body">
														<form action="/saveTimeslot" method="post" th:object="${timeslots}">
																<div th:object="${timeslots}">
																	<input type="hidden" name="eventId" th:value="event.eventId">	
																</div>
																
															<div class="form-group">
															<label for="hour">Hour:</label> <input
																type="number" name="hour" id="hour"> <br />
															</div>
															
															<label for="minute">Minute:</label> <input type="number"
																name="minute" id="minute">
																
															<div th:object="${eventTimeslotID}">
																<input type="hidden" name="eventId" th:value="${event.eventId}">
															</div>
															<button class="btn btn-primary">Add Time Slot</button>
														</form>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary"
															data-dismiss="modal">Close</button>
													</div>
												</div>
											</div>
										</div-->
						
										
									</div>
								</div>
							</div>
						</div>
					</div>

	<!-- footer -->
	<footer th:replace="./fragments :: html_footer"></footer>
	<!-- end of footer -->

	<script src="/js/dashboard.js" defer></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
		defer></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
		defer></script>
	<script type="module"
		src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule
		src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>

</html>


